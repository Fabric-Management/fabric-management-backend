# =============================================================================
# FABRIC MANAGEMENT SYSTEM - LOCAL ENVIRONMENT
# =============================================================================
# Single source of truth for all configuration
# DO NOT commit to git! Use .env.example as template

# =============================================================================
# ENVIRONMENT
# =============================================================================
SPRING_PROFILES_ACTIVE=local

# =============================================================================
# DATABASE - PostgreSQL
# =============================================================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5433
POSTGRES_DB=fabric_management
POSTGRES_USER=fabric_user
POSTGRES_PASSWORD=local_dev_2024

# HikariCP Connection Pool
DB_POOL_MAX_SIZE=10             # Maximum pool size
DB_POOL_MIN_IDLE=2              # Minimum idle connections
DB_CONNECTION_TIMEOUT=30000     # Connection timeout (ms) - 30 seconds
DB_IDLE_TIMEOUT=600000          # Idle timeout (ms) - 10 minutes
DB_MAX_LIFETIME=1800000         # Max lifetime (ms) - 30 minutes

# =============================================================================
# CACHE - Redis
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=local_redis_pass

# Redis Connection Pool (Lettuce)
REDIS_POOL_MAX_ACTIVE=8         # Maximum active connections
REDIS_POOL_MAX_IDLE=8           # Maximum idle connections
REDIS_POOL_MIN_IDLE=2           # Minimum idle connections
REDIS_CONNECTION_TIMEOUT=2000   # Connection timeout (ms)
REDIS_COMMAND_TIMEOUT=3000      # Command timeout (ms)

# Redis Cache TTL
CACHE_TTL=300000                # 5 minutes default (per service can override)

# =============================================================================
# MESSAGE BROKER - Kafka & Zookeeper
# =============================================================================
ZOOKEEPER_PORT=2181
KAFKA_PORT=9092
KAFKA_ADVERTISED_HOST=localhost
KAFKA_BOOTSTRAP_SERVERS=localhost:9092

# =============================================================================
# API GATEWAY
# =============================================================================
API_GATEWAY_PORT=8080

# =============================================================================
# MICROSERVICES - PORTS
# =============================================================================
USER_SERVICE_PORT=8081
CONTACT_SERVICE_PORT=8082
COMPANY_SERVICE_PORT=8083

# =============================================================================
# MICROSERVICES - INTER-SERVICE COMMUNICATION
# =============================================================================
# For Local: localhost | For Docker: will be overridden to service names
USER_SERVICE_HOST=localhost
CONTACT_SERVICE_HOST=localhost
COMPANY_SERVICE_HOST=localhost

# Full URLs (constructed from HOST:PORT)
#USER_SERVICE_URL=http://localhost:8081
#CONTACT_SERVICE_URL=http://localhost:8082
#COMPANY_SERVICE_URL=http://localhost:8083

# =============================================================================
# SECURITY - JWT
# =============================================================================
JWT_SECRET=EgUbMz7OOW7+57Ehxr2jUc7mFlEQPrs/XZirqOjhI4OF42Z+sW6hF7Rj9OMEjeCBBZHuzaBICuAlMtNMMZT+6A==
JWT_EXPIRATION=3600000           # 1 hour in milliseconds (production: 15 min recommended)
JWT_REFRESH_EXPIRATION=86400000  # 24 hours in milliseconds (production: 7 days max)
JWT_ALGORITHM=HS256              # HMAC SHA-256
JWT_ISSUER=fabric-management-system
JWT_AUDIENCE=fabric-api

# =============================================================================
# NOTIFICATION CONFIGURATION
# =============================================================================
NOTIFICATION_ENABLED=true         # Enable/disable notification features

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO                    # Global log level: TRACE, DEBUG, INFO, WARN, ERROR

# =============================================================================
# JVM OPTIONS (Optional)
# =============================================================================
# JAVA_OPTS=-Xmx512m -Xms256m

# =============================================================================
# MONITORING - JMX PORTS
# =============================================================================
USER_SERVICE_JMX_PORT=9011
CONTACT_SERVICE_JMX_PORT=9012
COMPANY_SERVICE_JMX_PORT=9013

# =============================================================================
# FRONTEND INTEGRATION (CORS)
# =============================================================================
# Comma-separated, NO SPACES!
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:4200

# Production'da:
# CORS_ALLOWED_ORIGINS=https://app.example.com,https://admin.example.com

# =============================================================================
# SECURITY - INTERNAL API KEY
# =============================================================================
# Internal API Key for secure service-to-service communication
# Generate: openssl rand -hex 32
INTERNAL_API_KEY=ccbb9770451536b7bc9645a155ab9110eca9b4db7e4b8037b2b835dec61756cb


# =============================================================================
# NOTIFICATION SERVICE - EMAIL (Hostinger SMTP)
# =============================================================================
PLATFORM_SMTP_HOST=smtp.hostinger.com
PLATFORM_SMTP_PORT=465
PLATFORM_SMTP_USERNAME=noreply@storeandsale.shop
PLATFORM_SMTP_PASSWORD=buraya-mail-sifreni-yaz
PLATFORM_EMAIL_FROM=noreply@storeandsale.shop
PLATFORM_EMAIL_FROM_NAME=Store and Sale

# =============================================================================
# NOTIFICATION SERVICE - WHATSAPP (Meta Cloud API)
# =============================================================================
PLATFORM_WHATSAPP_ENABLED=true
PLATFORM_WHATSAPP_PROVIDER=META
PLATFORM_WHATSAPP_ACCESS_TOKEN=EAAdhn0H3uUQBPoFsrDbZCgBpViiSOVB7thfUy6ZBouFRhEUfdkS3HeDBfofH3kMsi6Ql4cWwDBHoiLJ2
PLATFORM_WHATSAPP_PHONE_NUMBER_ID=873992362453067
PLATFORM_WHATSAPP_WABA_ID=1520011629309257
PLATFORM_WHATSAPP_FROM_NUMBER=+447553838399
PLATFORM_WHATSAPP_TEST_NUMBER=+15556363055

# =============================================================================
# NOTIFICATION SERVICE - SMS (Disabled)
# =============================================================================
PLATFORM_SMS_ENABLED=false
